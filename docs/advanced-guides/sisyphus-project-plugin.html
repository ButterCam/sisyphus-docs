<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-advanced-guides/sisyphus-project-plugin">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Sisyphus Project Plugin | Sisyphus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://sisyphus.bybutter.com/docs/advanced-guides/sisyphus-project-plugin"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Sisyphus Project Plugin | Sisyphus"><meta data-rh="true" name="description" content="Sisyphus Project Plugin (hereafter referred to as the plugin) is a Gradle plugin for quickly creating Sisyphus"><meta data-rh="true" property="og:description" content="Sisyphus Project Plugin (hereafter referred to as the plugin) is a Gradle plugin for quickly creating Sisyphus"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://sisyphus.bybutter.com/docs/advanced-guides/sisyphus-project-plugin"><link data-rh="true" rel="alternate" href="https://sisyphus.bybutter.com/docs/advanced-guides/sisyphus-project-plugin" hreflang="en"><link data-rh="true" rel="alternate" href="https://sisyphus.bybutter.com/zh-Hans/docs/advanced-guides/sisyphus-project-plugin" hreflang="zh-Hans"><link data-rh="true" rel="alternate" href="https://sisyphus.bybutter.com/docs/advanced-guides/sisyphus-project-plugin" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JEUJZ2Y8JO-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Sisyphus RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Sisyphus Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-GTV5XD2T1R"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GTV5XD2T1R",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Sisyphus" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f4be19b2.css">
<link rel="preload" href="/assets/js/runtime~main.1a8425ae.js" as="script">
<link rel="preload" href="/assets/js/main.9b3ba743.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Sisyphus Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Sisyphus Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Sisyphus</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/intro">Documents</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/search">Search</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/advanced-guides/sisyphus-project-plugin" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/zh-Hans/docs/advanced-guides/sisyphus-project-plugin" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-Hans">简体中文</a></li></ul></div><a href="https://github.com/ButterCam/sisyphus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Introduce</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/guides">Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/advanced-guides">Advanced Guides</a><button aria-label="Toggle the collapsible sidebar category &#x27;Advanced Guides&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-guides/project-structure">Project structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/advanced-guides/sisyphus-project-plugin">Sisyphus Project Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-guides/service-discover">Service Discover</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-guides/aip-spec">AIP with Sisyphus</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/advanced-guides"><span itemprop="name">Advanced Guides</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Sisyphus Project Plugin</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Sisyphus Project Plugin</h1><p><strong>Sisyphus Project Plugin</strong> (hereafter referred to as <code>the plugin</code>) is a Gradle plugin for quickly creating Sisyphus
projects, allowing for more automated configuration of Gradle projects.</p><p>The plugin can automatically configure third-party plugins in an intuitive form, reducing configuration
in <code>build.gradle.kts</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="apply-the-plugin">Apply the plugin<a class="hash-link" href="#apply-the-plugin" title="Direct link to heading">​</a></h2><p>Simply add the project plugin to <code>build.gradle.kts</code>.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">plugins </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">id</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.sisyphus.project&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> version </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;1.5.22&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or use the traditional Gradle plugin apply dsl.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">buildscript </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  repositories </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    maven </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      url </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">uri</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;https://plugins.gradle.org/m2/&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dependencies </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">classpath</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.sisyphus.tools:sisyphus-project-gradle-plugin:1.5.22&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">apply</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">plugin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.sisyphus.project&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-gradleproperties">Using gradle.properties<a class="hash-link" href="#using-gradleproperties" title="Direct link to heading">​</a></h2><p>The plugin is configured using the <code>gradle.properties</code> file, where you can configure the plugin&#x27;s parameters in
the <code>gradle.properties</code> file.</p><p>The <code>gradle.properties</code> file in the global <code>GRADLE_USER_HOME</code> directory (usually <code>~/.gradle/</code>) or in the project project
is read by Gradle and the plugin is automatically configured with these parameters.</p><p>You can define all project common parameters in the global <code>gradle.properties</code> or project specific parameters in
the <code>gradle.properties</code> under the project project.</p><p>The following properties can all be used to configure the plugin.</p><ul><li><p><code>sisyphus.developer=(your name)</code><br>
<!-- -->Specify the developer&#x27;s name, which will override the final project version number, e.g. if you specify the properties
as <code>higan</code>, the final version number generated will be <code>higan-SNAPSHOT</code>.<br>
<!-- -->Unifying version numbers in development environments facilitates multiple project development and synchronizes
dependencies via dependency override plugins.</p></li><li><p><code>sisyphus.layer=(FRAMEWORK, PLATFORM, API, IMPLEMENTATION)</code><br>
<!-- -->Specify the depth of the development layer. You can specify four values <code>FRAMEWORK</code>, <code>PLATFORM</code>, <code>API</code>
, <code>IMPLEMENTATION</code>, which represent the four development layers from deep to shallow. The default value
is <code>IMPLEMENTATION</code>, and we will focus on the development layer in later sections.</p></li><li><p><code>sisyphus.environment=(env name)</code><br>
<!-- -->Specify the current running environment, this property will be read by the <strong>Config Artifact</strong> component and read the
corresponding configuration file, for example when specifying the environment as <code>dev</code>, in addition to <code>config.yaml</code>
being read, <code>config-dev.yaml</code> will also be read by the <strong>Config Artifact</strong> and overwrite <code> config.yaml</code>.</p></li><li><p><code>sisyphus.repositories.&lt;name&gt;.url=(repo url)</code><br>
<!-- -->Define a URL for the Repository that can be used to specify the address of a Maven repository. The type of repository
is not required, it can be either a Maven repository or a Docker repository, the exact type of repository will only
make sense in subsequent use.</p></li><li><p><code>sisyphus.repositories.&lt;name&gt;.username=(username)</code><br>
<!-- -->Specify the username of a Repository.</p></li><li><p><code>sisyphus.repositories.&lt;name&gt;.password=(password)</code><br>
<!-- -->Specify the password for a Repository.</p></li><li><p><code>sisyphus.dependency.repositories=(repos)</code><br>
<!-- -->Specify the repositories used to resolve dependencies that are automatically configured to all projects that have
plugins applied to them, and can omit the <code>repositories</code> configuration in <code>build.gradle.kts</code>.<br>
<!-- -->Also, <strong>Config Artifact</strong> is downloaded from these repositories, and the type of repository filled in must be a valid
maven repository. The format is a comma-separated name of the defined repository. The default value
is <code>local,central,portal</code>.<br>
<!-- -->For maven repositories, the plugin has three built-in repositories <strong>local</strong>(maven local), <strong>central</strong>(maven central)
, <strong>portal</strong>(gradle portal).</p></li><li><p><code>sisyphus.snapshot.repositories=(repos)</code><br>
<!-- -->Specify the maven repositories that need to be pushed for SNAPSHOT versions, these repositories will be automatically
configured to all project publishing configurations if the current project version number ends with <code>-SNAPSHOT</code>. The
default value is <code>snapshot</code>, which means that only one repository named <code>snapshot</code> needs to be set to be applied
automatically.</p></li><li><p><code>sisyphus.release.repositories=(repos)</code><br>
<!-- -->Similar to <code>sisyphus.snapshot.repositories</code>, but specify the maven repositories that need to be pushed for the release
version, and is automatically configured when the project version number does not end in <code>-SNAPSHOT</code>. The default
is <code>release</code>, which means that only one repository named <code>release</code> needs to be set to be applied automatically.</p></li><li><p><code>sisyphus.docker.repositories=(repos)</code>
Specify Docker repositories that are automatically configured into the Gradle Docker plugin, generating the
corresponding <code>tag</code>, <code>push</code> tasks.</p></li><li><p><code>sisyphus.config.artifacts=(packages)</code>
Specify the <strong>Config Artifacts</strong> that need to be loaded at runtime, which are automatically downloaded
from <code>sisyphus.dependency.repositories</code> at application startup. The format is a string like <code>foo.bar:baz:1.0.0</code>,
separated by commas when there are multiple <strong>Config Artifacts</strong>.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-layer">Development Layer<a class="hash-link" href="#development-layer" title="Direct link to heading">​</a></h2><p>We mentioned above the concept of development layer configured via <code>sisyphus.layer</code>, and during project development we
can split dependencies into multiple layers in order to simplify the management of dependency matching in the
development environment.</p><p>In this case, Sisyphus has divided the development layer depth into four layers.</p><ul><li><p>The <strong>FRAMEWORK</strong> layer is the framework development layer and is the deepest development layer where all internal
dependencies are replaced with development versions when developing towards a framework.</p></li><li><p>The <strong>PLATFORM</strong> layer is the platform development layer, is the next deepest development layer, the platform is the
abstraction for the framework, in most cases is included in some departments for the framework of some common
components.</p></li><li><p>The <strong>API</strong> layer is the API development layer, is the next shallow development layer, all API dependencies will be
replaced with the development version.</p></li><li><p>The <strong>IMPLEMENTATION</strong> layer is the shallowest layer, and the default development layer, this layer of development
will not be any dependency replacement, and does not need to be defined.</p></li></ul><div class="theme-admonition theme-admonition-tip alert alert--success admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tips</div><div class="admonitionContent_S0QG"><p>Deeper tiers will contain shallower tiers, for example the <strong>FRAMEWORK</strong> tier will also replace all <strong>PLATFORM</strong> and <strong>
API</strong> tier dependencies.</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="version-replacement-of-dependencies-layer">Version replacement of dependencies layer<a class="hash-link" href="#version-replacement-of-dependencies-layer" title="Direct link to heading">​</a></h3><p>The main purpose of layering dependencies is to be able to manage them, and the following DSL can be used to mark
dependencies hierarchically.</p><div class="language-kotlin codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-kotlin codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">dependencies </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">frameworkLayer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">api</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.sisyphus.starter:sisyphus-grpc-server-starter:1.5.22&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">platformLayer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">api</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.sisyphus.kit:camera-grpc-server-autoconfigure:1.2.1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">apiLayer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">api</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string-literal singleline string" style="color:#e3116c">&quot;com.bybutter.camera.api:camera-user-api:1.7.12&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Mark the layers with <code>frameworkLayer</code>, <code>platformLayer</code> and <code>apiLayer</code> and use the released version in them.</p><p>When we do local development, we modify the code in the dependency project and push it to maven local. When we want the
project to use the version we just compiled, we usually need to go to <code>build.gradle.kts</code> to change the dependency
version number, and this change can easily be forgotten later on.</p><p>In order to replace the version of the dependency in <code>build.gradle.kts</code> without modifying it, we mark the dependency to
the specified level, for example with <code>apiLayer</code> to the <strong>API</strong> level, and when <code>sisyphus.layer</code> is set to the <strong>API</strong>
level or deeper, all <strong>API</strong> dependencies will be replaced with version number determined by <code>sisyphus.developer</code>, for
example: <code>higan-SNAPSHOT</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-layer-in-buttercam">Development Layer in ButterCam<a class="hash-link" href="#development-layer-in-buttercam" title="Direct link to heading">​</a></h3><p>Sisyphus has no special rules for the use of development tiers, as defined by the respective projects and projects, but
here is a description of how these tiers are used inside ButterCam.</p><p>For ButterCam, the <strong>FRAMEWORK</strong> layer refers to Sisyphus, and we will mark all Sisyphus open source library
dependencies as such.</p><p>The <strong>PLATFORM</strong> layer refers to ButterCam&#x27;s internal closed-source components for Sisyphus that are deeply related to
ButterCam&#x27;s current technology stack and business, and can provide some convenience for internal use.</p><p>The <strong>API</strong> layer refers to all of our proto definitions, and we keep all of our proto files in a separate project that
is shared by all teams, so that the front-end, client, and back-end can all participate in the process of writing proto.
The back-end <strong>Schema</strong> components will depend on these proto-only jar packages, and these dependencies will be marked
as such.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>mention</div><div class="admonitionContent_S0QG"><p>The <strong>PLATFORM</strong> layer inside ButterCam are some highly coupled tool classes and some common service configurations, and
we are using the same open source Sisyphus version for business development as everyone else.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-properties-hosted-by-sisyphus">Project properties hosted by Sisyphus<a class="hash-link" href="#project-properties-hosted-by-sisyphus" title="Direct link to heading">​</a></h2><p>When the plugin is applied, some properties of the project will be hosted by Sisyphus, and some custom properties may be
overridden at this time.</p><ul><li><p><code>project.version</code>, the project version will be determined by several factors<br>
<!-- -->The property <code>sisyphus.developer</code> determines the version number of the development environment, in the
format <code>{name}-SNAPSHOT</code><br>
<!-- -->The environment variable <code>BRANCH_NAME</code> determines the version number of the development branch, typically used in CI
environments, in the format <code>{branch}-SNAPSHOT</code>
The environment variable <code>GITHUB_REF</code> determines the version number of the PR, typically used in CI environments, in
the format <code>PR-{PR_NUMBER}-SNAPSHOT</code>
The environment variable <code>TAG_NAME</code> determines the version number of the Release, usually used in CI environments, in
the format <code>{tag}</code>
The environment variable <code>BUILD_VERSION</code> determines the version number of the Release, typically used in CI
environments, in the format <code>{BUILD_VERSION}</code></p></li><li><p><code>project.repositories</code>, the project&#x27;s maven repository will be hosted by the
sisyphus <code>sisyphus.dependency.repositories</code> property in <code>gradle.properties</code></p></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-plugins-hosted-by-sisyphus">Third-party plugins hosted by Sisyphus<a class="hash-link" href="#third-party-plugins-hosted-by-sisyphus" title="Direct link to heading">​</a></h2><p>Plugins can also help us configure third-party plugins such as Publish, Docker, License, etc. in an intuitive way.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nebula-plugins">Nebula plugins<a class="hash-link" href="#nebula-plugins" title="Direct link to heading">​</a></h3><p>For JavaLibrary type projects, Sisyphus will automatically apply the <code>nebula.maven-publish</code>, <code>nebula.javadoc-jar</code>
and <code>nebula.source-jar</code> plugins if the Gradle runtime environment has the Nebula family of plugins, depending on the
version number. Depending on the version number, the target repositories defined by <code>sisyphus.release.repositories</code>
and <code>sisyphus.snaphost.repositories</code> are automatically configured.</p><p>For JavaPlatform type projects, only the <code>nebula.maven-publish</code> plugin is automatically applied.</p><p>For projects with the <code>nebula.maven-publish</code> plugin applied, the <code>nebula.info</code> and <code>nebula.contacts</code> plugins are
additionally applied to populate the generated pom information.</p><p>In addition, when gradle.properties contains <code>signing.gnupg.keyName</code>, the <code>signing</code> plugin is also applied to generate
package signatures, as described in the <!-- -->[documentation for the signing plugin]<!-- -->(<a href="https://docs.gradle.org/current/" target="_blank" rel="noopener noreferrer">https://docs.gradle.org/current/</a>
userguide/signing_plugin.html).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-plugin">Docker plugin<a class="hash-link" href="#docker-plugin" title="Direct link to heading">​</a></h3><p>For JavaApplication type projects, if the Gradle runtime environment
has <a href="https://github.com/bmuschko/gradle-docker-plugin" target="_blank" rel="noopener noreferrer">Docker plugin</a>, Sisyphus will automatically
apply <code>com.bmuschko. docker-remote-api</code> plugin.</p><ol><li>automatically generates a Dockerfile for building the image</li><li>use Spring Boot&#x27;s <code>bootJar</code> layering feature to automatically layer in dependent jar packages when building images,
increasing the reuse of image layers and reducing image size</li><li>all projects and files in the docker folder of the parent project are added to the working directory of
the <code>docker build</code> command. 4.</li><li>automatically configure the repository tags for the Docker plugin to be pushed via <code>sisyphus.docker.repositories</code>.</li><li>Add <code>PROJECT_NAME</code> and <code>PROJECT_VERSION</code> to the Docker build parameters.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ktlint-plugin">Ktlint plugin<a class="hash-link" href="#ktlint-plugin" title="Direct link to heading">​</a></h3><p>If <a href="https://github.com/JLLeitschuh/ktlint-gradle" target="_blank" rel="noopener noreferrer">Ktlint plugin</a> is applied to the current project, Sisyphus will
automatically provide some configuration.</p><ol><li>Ignore all files in the generated directory.</li><li>Set the ReportType to <strong>CHECKSTYLE</strong>.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="antlr-plugin">Antlr Plugin<a class="hash-link" href="#antlr-plugin" title="Direct link to heading">​</a></h3><p>If <a href="https://docs.gradle.org/current/userguide/antlr_plugin.html" target="_blank" rel="noopener noreferrer">Antlr plugin</a> is applied to the current project,
Sisyphus will provide some configurations automatically.</p><ol><li>Add Antlr&#x27;s <code>generateGrammarSource</code> task to Kotlin&#x27;s compilation dependencies, and <code>generateGrammarSource</code> will be
executed automatically when Kotlin is compiled.</li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ButterCam/sisyphus-docs/edit/main/docs/advanced-guides/sisyphus-project-plugin.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/advanced-guides/project-structure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Project structure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/advanced-guides/service-discover"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Service Discover</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#apply-the-plugin" class="table-of-contents__link toc-highlight">Apply the plugin</a></li><li><a href="#using-gradleproperties" class="table-of-contents__link toc-highlight">Using gradle.properties</a></li><li><a href="#development-layer" class="table-of-contents__link toc-highlight">Development Layer</a><ul><li><a href="#version-replacement-of-dependencies-layer" class="table-of-contents__link toc-highlight">Version replacement of dependencies layer</a></li><li><a href="#development-layer-in-buttercam" class="table-of-contents__link toc-highlight">Development Layer in ButterCam</a></li></ul></li><li><a href="#project-properties-hosted-by-sisyphus" class="table-of-contents__link toc-highlight">Project properties hosted by Sisyphus</a></li><li><a href="#third-party-plugins-hosted-by-sisyphus" class="table-of-contents__link toc-highlight">Third-party plugins hosted by Sisyphus</a><ul><li><a href="#nebula-plugins" class="table-of-contents__link toc-highlight">Nebula plugins</a></li><li><a href="#docker-plugin" class="table-of-contents__link toc-highlight">Docker plugin</a></li><li><a href="#ktlint-plugin" class="table-of-contents__link toc-highlight">Ktlint plugin</a></li><li><a href="#antlr-plugin" class="table-of-contents__link toc-highlight">Antlr Plugin</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/guides">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/advanced-guides">Advanced Guides</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/ButterCam/sisyphus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 ButterCam OpenSource Group. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.1a8425ae.js"></script>
<script src="/assets/js/main.9b3ba743.js"></script>
</body>
</html>